# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4
set $alt Mod1
set $caps Mod3

#set $q 191
#set $w 192
#set $e 193
#set $r 194
#set $t 195
#set $a 196
#set $s 197
#set $d 199
#set $f 200
#set $g 201
#set $less-than 202
#set $y Mod1+191
#set $x Mod1+192
#set $c Mod1+193
#set $v Mod1+194
#set $b Mod1+195
#set $tab Mod1+197
#set $enter Mod1+196

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
#font pango:Inconsolata style=Regular 6
font pango:Source Code Pro style=Bold 8

# This font is widely installed, provides lots of unicode glyphs, right-to-left
# text rendering and scalability on retina/hidpi displays (thanks to pango).
#font pango:DejaVu Sans Mono 8

# The combination of xss-lock, nm-applet and pactl is a popular choice, so
# they are included here as an example. Modify as you see fit.

# xss-lock grabs a logind suspend inhibit lock and will use i3lock to lock the
# screen before suspend. Use loginctl lock-session to lock your screen.
exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork -c 000000

# NetworkManager is the most popular way to manage wireless networks on Linux,
# and nm-applet is a desktop environment-independent system tray GUI for it.
exec --no-startup-id nm-applet

# Use pactl to adjust volume in PulseAudio.
set $refresh_i3status killall -SIGUSR1 i3status
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +10% && $refresh_i3status
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10% && $refresh_i3status
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && $refresh_i3status
bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle && $refresh_i3status

exec --no-startup-id sleep 2; pactl set-sink-volume alsa_output.usb-SteelSeries_SteelSeries_Arctis_9_000000000000-00.stereo-game 56%

# cadence autostart
#exec gtk-launch cadence-session-start
# set pointer speed
exec_always set-sense.sh


# start polkit manager ( gui sudo prompts )
exec --no-startup-id /usr/lib/polkit-kde-authentication-agent-1 &

# clipboard manager
exec --no-startup-id klipper

# kdeconnect tray
exec --no-startup-id kdeconnect-indicator

# nextcloud sync client
exec --no-startup-id nextcloud

# unlock kwallet (needed for chomium keys)
# https://wiki.archlinux.org/title/KDE_Wallet#Unlocking_KWallet_automatically_in_a_window_manager
exec --no-startup-id /usr/lib/pam_kwallet_init

# easyeffects daemon
# disable mic noise canceling done in wireplumber .config/pipewire/pipewire.conf
# https://github.com/werman/noise-suppression-for-voice
#exec --no-startup-id easyeffects --gapplication-service &

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a applications
bindsym $mod+Return exec "alacritty"
bindsym $mod+Shift+Return exec "~/.scripts/i3/next_empty_workspace.py ; alacritty"
bindsym $mod+c exec "cutefish-calculator" 

# screenshot
bindsym $mod+Shift+less exec flameshot gui

# kill focused window
bindsym $mod+comma kill
bindsym --release button2 kill

# global options 
focus_follows_mouse yes
show_marks yes
focus_wrapping no
focus_on_window_activation urgent

# set ws vars
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"
set $wsA "11:A"
set $wsB "12:B"
set $wsC "13:C"
set $wsD "14:D"
set $wsE "15:E"
set $wsF "16:F"
set $wsG "17:G"
set $wsH "18:H"
set $wsI "19:I"
set $wsJ "20:J"
set $wsK "21:K"
set $wsL "22:L"
set $wsM "23:M"
set $wsN "24:N"
set $wsO "25:O"
set $wsP "26:P"
set $wsQ "27:Q"
set $wsR "28:R"
set $wsS "29:S"
set $wsT "30:T"
set $wsU "31:U"
set $wsV "32:V"
set $wsW "33:W"
set $wsX "34:X"
set $wsY "35:Y"
set $wsZ "36:Z"

# plasma compatibility
for_window [title="Desktop â€” Plasma"] kill; floating enable; border none
for_window [class="plasmashell"] floating enable;
for_window [instance="plasmashell"] floating enable;
for_window [class="Plasma"] floating enable; border none
for_window [title="plasma-desktop"] floating enable; border none
for_window [title="win7"] floating enable; border none
for_window [class="krunner"] floating enable; border none
for_window [class="Kmix"] floating enable; border none
for_window [class="Klipper"] floating enable; border none
for_window [class="Plasmoidviewer"] floating enable; border none
for_window [class="(?i)*nextcloud*"] floating disable
for_window [class="plasmashell" window_type="notification"] floating enable, border none , move right 700px, move up 450px
no_focus [class="plasmashell" window_type="notification"] 
# not working for some reason :(
#for_window [class="kdialog"] move positon center;

# lxqt compatibility
for_window [title="LXQt Panel"] kill;

# window roles
#for_window [window_role="pop-up"] floating enable
for_window [window_role="task_dialog"] floating enable

# window rules
for_window [instance="origin.exe"] floating enable;
for_window [class="Steam" title="Friends List"] resize set width 15 ppt;
for_window [class="Steam" title="Steam Guard"] floating enable;
for_window [class="Steam" title="Steam - News"] floating enable;
for_window [instance="cutefish-calculator" ] floating enable;
for_window [class="firefox"] border pixel 3 
for_window [class="Alacritty"] border pixel 3

# insert new containers to mark
for_window [window_type="normal"] move container to mark insert
#bindsym $mod+p move container to mark insert
#bindsym $mod+Control+p mark --toggle insert

# assign workspace to monitor
workspace "14:D" output HDMI-0

# workspace assignments
assign [instance="^league"] $wsL 
assign [instance="^riot"] $wsL
assign [title="^League"] $wsL
assign [class="discord"] $wsD
assign [class="Steam"] $wsS
assign [instance="upc.exe"] $wsU
assign [instance="anno*"] $wsU
assign [instance="origin.exe"] $wsO
for_window [class="Spotify"] move to workspace $wsP
assign [instance="lutris"] $wsT
#assign [instance="^gimp*"] $wsG
#exec "i3-msg workspace $wsG, append_layout .config/i3/layout/gimp.json"

# start picom
exec_always --no-startup-id ~/.scripts/run-picom.sh

# start polybar
exec_always --no-startup-id ~/.config/polybar/launch.sh 

# disable caps
exec setxkbmap -option caps:none

# start rofi
bindsym $mod+i exec rofi -show drun -theme transparent
bindsym $mod+Shift+i exec "~/.scripts/i3/next_empty_workspace.py ; rofi -show drun -theme transparent"
#bindsym $mod+x exec rofi -show window -theme transparent

# start rofi file-browser
#bindsym $mod+c exec rofi -show file-browser
#bindsym $mod+c exec rofi -show file-browser -file-browser-open-multi-key kb-accept-alt
#bindsym $mod+x exec rofi -show calc -modi calc -no-show-match -no-sort

# auto rename workspace script NOT WORKING
#exec_always "~/.config/i3/i3scripts/autoname_workspaces.py &"

# pyhton i3ipc
# - unmark insert on workspace switch
exec ~/.scripts/i3/unmark-on-workspace-switch.py
#exec_always autotiling

# There also is the (new) i3-dmenu-desktop which only displays applications
# shipping a .desktop file. It is a wrapper around dmenu, so you need that
# installed.
# bindsym $mod+d exec --no-startup-id i3-dmenu-desktop

# change focus
bindsym $mod+a focus left
bindsym $mod+o focus down
bindsym $mod+e focus up
bindsym $mod+u focus right
#bindsym $alt+Tab focus prev

# move focused window
bindsym $mod+Shift+a move left
bindsym $mod+Shift+o move down
bindsym $mod+Shift+e move up
bindsym $mod+Shift+u move right

# resize
bindsym $mod+Control+a resize shrink width 5 px or 5 ppt
bindsym $mod+Control+o resize shrink height 5 px or 5 ppt
bindsym $mod+Control+e resize grow height 5 px or 5 ppt
bindsym $mod+Control+u resize grow width 5 px or 5 ppt

# enter fullscreen mode for the focused container
bindsym $mod+z fullscreen toggle
#bindsym $mod+Shift+f fullscreen toggle global

# sticky mode
#bindsym $mod+p sticky toggle
# change container layout (stacked, tabbed, toggle split)
bindsym $mod+p layout stacking
bindsym $mod+period layout tabbed
bindsym $mod+l layout toggle split

bindsym $mod+x split h
bindsym $mod+k split v

# auto layout script
#exec ~/.scripts/i3/auto-workspace-layout.py
# toggle tiling / floating
bindsym $mod+Shift+j floating toggle

# change focus between tiling / floating windows
bindsym $mod+j focus mode_toggle

# focus the parent container
bindsym $mod+less focus parent

# focus the child container
#bindsym $mod+d focus child

# workspace with mode selection
mode ws {
bindsym Escape mode default
bindsym $mod+F10 mode default
bindsym 1 workspace $ws1; mode default
bindsym 2 workspace $ws2; mode default
bindsym 3 workspace $ws3; mode default
bindsym 4 workspace $ws4; mode default
bindsym 5 workspace $ws5; mode default
bindsym 6 workspace $ws6; mode default
bindsym 7 workspace $ws7; mode default
bindsym 8 workspace $ws8; mode default
bindsym 9 workspace $ws9; mode default
bindsym 0 workspace $ws10; mode default
bindsym a workspace $wsA; mode default
bindsym b workspace $wsB; mode default
bindsym c workspace $wsC; mode default
bindsym d workspace $wsD; mode default
bindsym e workspace $wsE; mode default
bindsym f workspace $wsF; mode default
bindsym g workspace $wsG; mode default
bindsym h workspace $wsH; mode default
bindsym i workspace $wsI; mode default
bindsym j workspace $wsJ; mode default
bindsym k workspace $wsK; mode default
bindsym l workspace $wsL; mode default
bindsym m workspace $wsM; mode default
bindsym n workspace $wsN; mode default
bindsym o workspace $wsO; mode default
bindsym p workspace $wsP; mode default
bindsym q workspace $wsQ; mode default
bindsym r workspace $wsR; mode default
bindsym s workspace $wsS; mode default
bindsym t workspace $wsT; mode default
bindsym u workspace $wsU; mode default
bindsym v workspace $wsV; mode default
bindsym w workspace $wsW; mode default
bindsym x workspace $wsX; mode default
bindsym y workspace $wsY; mode default
bindsym z workspace $wsZ; mode default
}
bindsym $mod+F10 mode ws

mode wsm {
bindsym Escape mode default
bindsym $mod+F11 mode default
bindsym 1 move container to workspace $ws1; mode default
bindsym 2 move container to workspace $ws2; mode default
bindsym 3 move container to workspace $ws3; mode default
bindsym 4 move container to workspace $ws4; mode default
bindsym 5 move container to workspace $ws5; mode default
bindsym 6 move container to workspace $ws6; mode default
bindsym 7 move container to workspace $ws7; mode default
bindsym 8 move container to workspace $ws8; mode default
bindsym 9 move container to workspace $ws9; mode default
bindsym 0 move container to workspace $ws10; mode default
bindsym a move container to workspace $wsA; mode default
bindsym b move container to workspace $wsB; mode default
bindsym c move container to workspace $wsC; mode default
bindsym d move container to workspace $wsD; mode default
bindsym e move container to workspace $wsE; mode default
bindsym f move container to workspace $wsF; mode default
bindsym g move container to workspace $wsG; mode default
bindsym h move container to workspace $wsH; mode default
bindsym i move container to workspace $wsI; mode default
bindsym j move container to workspace $wsJ; mode default
bindsym k move container to workspace $wsK; mode default
bindsym l move container to workspace $wsL; mode default
bindsym m move container to workspace $wsM; mode default
bindsym n move container to workspace $wsN; mode default
bindsym o move container to workspace $wsO; mode default
bindsym p move container to workspace $wsP; mode default
bindsym q move container to workspace $wsQ; mode default
bindsym r move container to workspace $wsR; mode default
bindsym s move container to workspace $wsS; mode default
bindsym t move container to workspace $wsT; mode default
bindsym u move container to workspace $wsU; mode default
bindsym v move container to workspace $wsV; mode default
bindsym w move container to workspace $wsW; mode default
bindsym x move container to workspace $wsX; mode default
bindsym y move container to workspace $wsY; mode default
bindsym z move container to workspace $wsZ; mode default
}
bindsym $mod+F11 mode wsm

mode wsms {
bindsym Escape mode default
bindsym $mod+F12 mode default
bindsym 1 move container to workspace $ws1; workspace $ws1; mode default
bindsym 2 move container to workspace $ws2; workspace $ws2; mode default
bindsym 3 move container to workspace $ws3; workspace $ws3; mode default
bindsym 4 move container to workspace $ws4; workspace $ws4; mode default
bindsym 5 move container to workspace $ws5; workspace $ws5; mode default
bindsym 6 move container to workspace $ws6; workspace $ws6; mode default
bindsym 7 move container to workspace $ws7; workspace $ws7; mode default
bindsym 8 move container to workspace $ws8; workspace $ws8; mode default
bindsym 9 move container to workspace $ws9; workspace $ws9; mode default
bindsym 0 move container to workspace $ws10; workspace $ws10; mode default
bindsym a move container to workspace $wsA; workspace $wsA; mode default
bindsym b move container to workspace $wsB; workspace $wsB; mode default
bindsym c move container to workspace $wsC; workspace $wsC; mode default
bindsym d move container to workspace $wsD; workspace $wsD; mode default
bindsym e move container to workspace $wsE; workspace $wsE; mode default
bindsym f move container to workspace $wsF; workspace $wsF; mode default
bindsym g move container to workspace $wsG; workspace $wsG; mode default
bindsym h move container to workspace $wsH; workspace $wsH; mode default
bindsym i move container to workspace $wsI; workspace $wsI; mode default
bindsym j move container to workspace $wsJ; workspace $wsJ; mode default
bindsym k move container to workspace $wsK; workspace $wsK; mode default
bindsym l move container to workspace $wsL; workspace $wsL; mode default
bindsym m move container to workspace $wsM; workspace $wsM; mode default
bindsym n move container to workspace $wsN; workspace $wsN; mode default
bindsym o move container to workspace $wsO; workspace $wsO; mode default
bindsym p move container to workspace $wsP; workspace $wsP; mode default
bindsym q move container to workspace $wsQ; workspace $wsQ; mode default
bindsym r move container to workspace $wsR; workspace $wsR; mode default
bindsym s move container to workspace $wsS; workspace $wsS; mode default
bindsym t move container to workspace $wsT; workspace $wsT; mode default
bindsym u move container to workspace $wsU; workspace $wsU; mode default
bindsym v move container to workspace $wsV; workspace $wsV; mode default
bindsym w move container to workspace $wsW; workspace $wsW; mode default
bindsym x move container to workspace $wsX; workspace $wsX; mode default
bindsym y move container to workspace $wsY; workspace $wsY; mode default
bindsym z move container to workspace $wsZ; workspace $wsZ; mode default
}
bindsym $mod+F12 mode wsms

# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

# back and forth 
bindsym $mod+Tab workspace back_and_forth

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10

# move to next and prev on output
#bindsym $mod+$alt+Shift+h move container to workspace prev_on_output
#bindsym $mod+$alt+Shift+l move container to workspace next_on_output

# move workspace to monitor binds
bindsym	$mod+Control+minus move workspace to output left
bindsym $mod+Control+q move workspace to output right

# swap workspace on ouputs
#bindsym $mod+Control+Shift+y exec ~/.scripts/i3/swap-output.py left
#bindsym $mod+Control+Shift+x exec ~/.scripts/i3/swap-output.py right

# reload the configuration file
bindsym $mod+Control+j reload

# restart i3 inplace (preserves your layout/session, can be used to upgrade i2)
bindsym $mod+Shift+p restart

# exit i3 (logs you out of your X session)
bindsym $mod+Shift+l exec rofi -show power-menu -modi power-menu:~/.config/rofi/rofi-power-menu -theme transparent 
	# qdbus org.kde.ksmserver /KSMServer logout 1 0 0

bindsym $mod+m mode "transparency"
mode "transparency" {
	bindsym 1 exec transset-df -a 0.1
	bindsym 2 exec transset-df -a 0.2
	bindsym 3 exec transset-df -a 0.3
	bindsym 4 exec transset-df -a 0.4
	bindsym 5 exec transset-df -a 0.5
	bindsym 6 exec transset-df -a 0.6
	bindsym 7 exec transset-df -a 0.7
	bindsym 7 exec transset-df -a 0.7
	bindsym 8 exec transset-df -a 0.8
	bindsym 9 exec transset-df -a 0.9
	bindsym 0 exec transset-df -a 1
	bindsym Escape mode "default"
	bindsym $mod+m mode "default"
}

# media controls
bindcode 172 exec ~/.scripts/playercall.sh play-pause
bindcode 174 exec ~/.scripts/playercall.sh stop
bindcode 173 exec ~/.scripts/playercall.sh previous
bindcode 171 exec ~/.scripts/playercall.sh next
bindcode 152 exec ~/.scripts/playerswap.sh prev
bindcode 180 exec ~/.scripts/playerswap.sh next

#set background 
exec_always --no-startup-id ~/.scripts/set-bg.sh
bindsym $mod+F5 exec "bash -c ~/.scripts/bg-gen.sh && ~/.scripts/set-bg.sh"

# start redshift (nightmode)
exec --no-startup-id "redshift-gtk -t 6500K:4500K -l 51:12"

# swap to next and prev workspace
bindsym $mod+minus workspace prev_on_output
bindsym $mod+q workspace next_on_output

bindsym $mod+Shift+minus exec ~/.scripts/i3/move_to_next_workspace.py
bindsym $mod+Shift+q exec ~/.scripts/i3/move_and_switch_to_next_workspace.py

# define window colors
set $bg-color 	         #485061
set $inactive-bg-color   #2f343f
set $text-color          #f3f4f5
set $inactive-text-color #676E7D
set $urgent-bg-color     #E53935

# window colors
#                       border              background         text                 indicator
#client.focused          $bg-color           $bg-color          $text-color          $bg-color
#client.unfocused        $inactive-bg-color $inactive-bg-color $inactive-text-color $bg-color
#client.focused_inactive $inactive-bg-color $inactive-bg-color $inactive-text-color $bg-color
#client.urgent           $urgent-bg-color    $urgent-bg-color   $text-color          $bg-color

# # ========= old theme
# set $bg-color #222222ee
# set $bg-focused #666666ee
# set $inactive-bg-color #222222cc
# set $unfocused-bg-color #22222299
# set $text-color #ffffff
# set $unfocused-text #888888
# set $urgent-color #2f343a
# set $unfocused-urgent #900000ee

# ========= catpuccino
#peach
set $bg-focused #494d64
#mantle
set $inactive-bg-color #1e2030
#crust
set $unfocused-bg-color #24273a
set $text-color $text
set $unfocused-text $text
set $urgent-color #2f343a
set $unfocused-urgent #900000ee

#class                   border               backgr.              text             indicator            child_border
client.focused           $bg-focused          $bg-focused          $text-color      #666666ee            $bg-focused
client.focused_inactive  $inactive-bg-color   $inactive-bg-color   $unfocused-text  $inactive-bg-color   $inactive-bg-color
client.unfocused         $unfocused-bg-color  $unfocused-bg-color  $unfocused-text  $unfocused-bg-color  $unfocused-bg-color
client.urgent            $urgent-color        $unfocused-urgent    $text-color      $unfocused-urgent    $unfocused-urgent
client.placeholder       #000000              #000000              $text-color      #000000              #000000
client.background        $text-color                                                                     

#set $acolor #d64161

## set other colors
#set $bgicolor #00979E
#set $bgucolor #6a6868
#set $txtacolor #F9FAF9
#set $txtucolor #bdbbbb
#set $indcolor #4deb56

## class                   border  backgr. text    indic.   child_border
#client.focused          $acolor $acolor $txtacolor $indcolor $acolor
#client.focused_inactive $bgicolor $bgicolor $txtacolor $indcolor $bgicolor
#client.unfocused        $bgucolor $bgucolor $txtucolor $indcolor $bgucolor

#border_radius 5
# gaps setup
#default_border pixel 3
gaps inner 5
gaps outer 5

bindsym $mod+Control+t mode gaps
mode gaps {
	# change focus
	bindsym $mod+h focus left
	bindsym $mod+j focus down
	bindsym $mod+k focus up
	bindsym $mod+l focus right

	bindsym Escape mode default
	bindsym $mod+t mode default

	# change gaps
	bindsym h gaps inner current minus 5
	bindsym l gaps inner current plus 5
	bindsym j gaps outer current minus 5
	bindsym k gaps outer current plus 5
	bindsym u gaps vertical current minus 5
	bindsym i gaps vertical current plus 5
	bindsym z gaps horizontal current minus 5
	bindsym o gaps horizontal current plus 5
	bindsym a gaps left current minus 5
	bindsym s gaps bottom current minus 5
	bindsym d gaps top current minus 5
	bindsym f gaps right current minus 5
	bindsym q gaps left current plus 5
	bindsym w gaps bottom current plus 5
	bindsym e gaps top current plus 5
	bindsym r gaps right current plus 5

	# toggle border style
	bindsym b border toggle
	bindsym n border none
	# restore defaults
	bindsym c gaps inner current set 5 ; gaps outer current set 5 ; border pixel 3
	bindsym x gaps inner current set 0; gaps outer current set 0
}
